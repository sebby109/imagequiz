(this.webpackJsonpimagequiz=this.webpackJsonpimagequiz||[]).push([[0],{43:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(19),i=n.n(a),s=(n(43),n(7)),o=n(13),u=n(6),l=n(21),j=(n(44),"https://sebby109-imagequiz.herokuapp.com"),h={getPlaces:function(){return fetch(j+"/places").then((function(e){return e.json()})).catch((function(e){return alert(e)}))},getQuizzes:function(){return fetch(j+"/quizzes").then((function(e){return e.json()})).catch((function(e){return alert(e)}))},getQuiz:function(e){return fetch(j+"/quiz/"+e).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},getAnswer:function(){return fetch(j+"/answer").then((function(e){return e.json()})).catch((function(e){return alert("failed at get answer in api")}))},getScore:function(){return fetch(j+"/score").then((function(e){return e.json()})).catch((function(e){return alert("failed at get score api")}))},getCurrent:function(){return fetch(j+"/currents").then((function(e){return e.json()})).catch((function(e){return alert(e)}))},addScore:function(e){return fetch(j+"/add/1").catch((function(e){return alert("failed at add score in api")}))},addCurrent:function(e){return fetch(j+"/current",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},addAnswer:function(e){return fetch(j+"/addAnswer/"+e).catch((function(e){return alert("add answer error.")}))}},b=n(10),d=n(15),f=n(20),O=n(3);var m=function(e){var t=Object(u.f)(),n=Object(r.useState)(0),c=Object(s.a)(n,2),a=(c[0],c[1],e.name1),i=function(e){var n=e.target.value;n===a?(h.addAnswer(n).catch((function(e){return console.log(e)})),h.addScore(toString(1)).catch((function(e){return alert("failed at add score")}))):h.addAnswer("wrong").catch((function(e){return alert(e)})),t.push("/results")};return Object(O.jsxs)(b.a,{style:{margin:"10px"},children:[Object(O.jsx)(b.a.Group,{style:{width:"18rem",float:"left",position:"relative"},children:Object(O.jsx)("img",{src:e.image,style:{width:"250px",height:"200px"}})}),Object(O.jsx)(f.a,{children:Object(O.jsx)(d.a,{variant:"primary",type:"submit",style:{margin:"10px"},value:e.name1,onClick:i,children:e.name1})}),Object(O.jsx)(f.a,{children:Object(O.jsx)(d.a,{variant:"primary",type:"submit",style:{margin:"10px"},value:e.name2,onClick:i,children:e.name2})}),Object(O.jsx)(f.a,{children:Object(O.jsxs)(d.a,{variant:"primary",type:"submit",style:{margin:"10px"},value:e.name3,onClick:i,children:[e.name3," ",e.pos]})})]})};var g=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(r.useState)([]),b=Object(s.a)(j,2),d=b[0],f=b[1];0===n.length&&h.getCurrent().then((function(e){return c(e)})).catch((function(e){return console.log(e)})),0===o.length&&h.getPlaces().then((function(e){return u(e)})).catch((function(e){return console.log(e)}));var g=function(){for(var e=0,t=n.length-1,r=0;r<o.length;r++)o[r].name===n[t].name&&(e=r);return e};return Object(r.useEffect)((function(){0===d.length&&h.getQuiz(g()).then((function(e){return f(e)})).catch((function(e){return alert.log(e)}))})),Object(O.jsx)(l.a,{children:d===[]?[]:Object(O.jsx)(m,{name1:d[0],name2:d[1],name3:d[2],image:d[3],pos:g()})})},p=n(23);var x=function(e){var t=Object(u.f)(),n=Object(r.useState)([]),c=Object(s.a)(n,2);return c[0],c[1],Object(O.jsxs)(p.a,{style:{width:"18rem",float:"left",position:"relative",margin:"50px"},onClick:function(){var n={name:e.name,pos:e.pos,image:e.image_url};h.addCurrent(n).then((function(e){return console.log(e)})).catch((function(e){return alert(e)})),t.push("/data")},children:[Object(O.jsx)(p.a.Img,{variant:"top",src:e.image_url}),Object(O.jsx)(p.a.Body,{children:Object(O.jsx)(p.a.Title,{style:{textAlign:"center"},children:e.name})})]})};var v=function(){Object(u.f)();var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=(t[0],t[1],Object(r.useState)([])),c=Object(s.a)(n,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){0===a.length&&h.getPlaces().then((function(e){return i(e)})).catch((function(e){return console.log(e)}))})),Object(O.jsx)("div",{children:a.map((function(e){return Object(O.jsx)(x,{image_url:e.picture,name:e.name,pos:e.pos})}))})},y=n(25);var S=function(e){var t=Object(u.f)(),n=Object(r.useState)(""),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),j=l[0],h=l[1];return Object(O.jsx)(f.a,{children:Object(O.jsx)(y.a,{children:Object(O.jsxs)(b.a,{onSubmit:function(e){0!==a.trim().length&&0!==j.trim().length&&(e.onLoggedIn(a),t.push("/"))},children:[Object(O.jsxs)(b.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(b.a.Label,{children:"Email address"}),Object(O.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){i(e.target.value)}}),Object(O.jsx)(b.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)(b.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(b.a.Label,{children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)}})]}),Object(O.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})})},w=n(22),C=n(30);var k=function(e){return Object(O.jsxs)(w.a,{bg:"light",expand:"lg",children:[Object(O.jsx)(w.a.Brand,{href:"#home",children:"Practicum 5"}),Object(O.jsx)(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(w.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(C.a,{className:"mr-auto",children:[Object(O.jsx)(C.a.Link,{children:Object(O.jsx)(o.b,{to:"/",children:"Home"})}),Object(O.jsx)(C.a.Link,{children:Object(O.jsx)(o.b,{to:"/login",children:"login"})})]})})]})};var z=function(e){var t=Object(u.f)(),n=Object(r.useState)(""),c=Object(s.a)(n,2),a=(c[0],c[1]),i=Object(r.useState)(0),o=Object(s.a)(i,2),j=(o[0],o[1],"Correct");h.getAnswer().then((function(e){return a(e)})).catch((function(e){return alert("failed at get answer")}));var b=function(e){"home"===e.target.value?t.push("/"):t.push("/data")};return Object(O.jsx)(l.a,{children:Object(O.jsxs)("div",{style:{textAlign:"center"},children:[j,Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(d.a,{variant:"primary",type:"submit",style:{margin:"10px"},value:"home",onClick:b,children:"Home"}),Object(O.jsx)(d.a,{variant:"primary",type:"submit",style:{margin:"10px"},value:"retake",onClick:b,children:"Retake quiz"})]})})};var I=function(){var e=Object(r.useState)(localStorage.getItem("username")||""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)(o.a,{children:Object(O.jsxs)(l.a,{fluid:!0,children:[Object(O.jsx)(k,{username:n}),Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/",component:v}),Object(O.jsx)(u.a,{path:"/data",component:g}),Object(O.jsx)(u.a,{path:"/results",component:z}),Object(O.jsx)(u.a,{path:"/login",children:Object(O.jsx)(S,{onLoggedIn:function(e){localStorage.setItem("username",e),c(e)}})})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),P()}},[[52,1,2]]]);
//# sourceMappingURL=main.dd4b87b2.chunk.js.map